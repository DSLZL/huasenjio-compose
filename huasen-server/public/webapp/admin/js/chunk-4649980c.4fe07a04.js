(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4649980c"],{1251:function(t,e,i){},"180c":function(t,e,i){"use strict";i.r(e);i("14d9"),i("0643"),i("4e3e");var o={name:"HomeVisitor",props:{visitor:{type:Object,default:()=>{}}},watch:{visitor(){this.initVisitorChart()}},data:()=>({visitorCount:0,visitorRate:"",totalData:[],totalTime:[]}),mounted(){this.queryVisitorTotal(),this.queryVisitor()},methods:{queryVisitorTotal(){this.API.manage.uvOverview({},{notify:!1}).then(t=>{let e=[],i=[];t.data.reverse().forEach(t=>{e.push(t.count),i.push(t.time)}),this.totalData=e.length?e:[1],this.totalTime=i.length?i:["1970/01/01"],this.initTotalChart()})},queryVisitor(){this.API.manage.visitor({},{notify:!1}).then(t=>{this.visitorCount=t.data.visitorCount,this.visitorRate=t.data.visitorRate})},initVisitorChart(){let t={grid:{left:"10",right:"10",top:"40",bottom:"40",containLabel:!0},tooltip:{show:!0,trigger:"axis"},legend:{show:!0,x:"520",y:"10",icon:"stack",itemWidth:15,itemHeight:10,data:["用户","管理员","访客"]},xAxis:[{type:"category",axisLine:{show:!1},axisLabel:{color:"#A1A7B3"},splitLine:{show:!1},axisTick:{show:!1},data:this.visitor.time}],dataZoom:[{show:!0,height:18,xAxisIndex:[0],left:"0",right:"6",bottom:"14",start:0,end:100,textStyle:{color:"#8c8c8c"},borderColor:"#8c8c8c"},{show:!0,type:"inside",height:15,start:2,end:35}],yAxis:[{type:"value",name:"流量监控",nameTextStyle:{fontSize:14},splitLine:{show:!0,lineStyle:{color:"#A1A7B3",type:"dashed"}},axisLine:{show:!0,lineStyle:{color:"#8c8c8c"}},axisLabel:{show:!0,margin:10,textStyle:{color:"#A1A7B3"}},axisTick:{show:!1}}],series:[{name:"用户",type:"line",smooth:!0,stack:"用户",symbolSize:0,itemStyle:{normal:{color:"#4293FD",lineStyle:{color:"#4293FD",width:2}}},areaStyle:{normal:{color:this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(19, 95, 172, 1)"},{offset:1,color:"rgba(112, 154, 195, 0.4)"}],!1)}},data:this.visitor.user},{name:"管理员",type:"line",smooth:!0,stack:"管理员",symbolSize:0,itemStyle:{normal:{color:"#23D0C4",lineStyle:{color:"#23D0C4",width:2}}},areaStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(50, 216, 205, 1)"},{offset:1,color:"rgba(35, 208, 196, 0.4)"}],!1)}},data:this.visitor.admin},{name:"访客",type:"line",smooth:!0,stack:"访客",symbolSize:0,itemStyle:{normal:{color:"#fbc607",lineStyle:{color:"#fbc607",width:2}}},areaStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(250, 199, 6, 1)"},{offset:1,color:"rgba(245, 133, 72, 0.4)"}],!1)}},data:this.visitor.other}]};if(!this.chart){let t=document.getElementById("visitor-chart");this.chart=this.$echarts.init(t),this.chartObserve=new ResizeObserver(t=>{this.chart.resize()}),this.chartObserve.observe(t),this.$once("hook:beforeDestroy",(function(){this.chartObserve.unobserve(t)}))}this.chart.setOption(t)},initTotalChart(){let t={tooltip:{show:!0},grid:{left:"0",right:"20",top:"0",bottom:"0",containLabel:!0},color:["#2db4f6","#7c59c2"],xAxis:[{type:"value",axisLabel:{formatter:"{value} 人",rotate:35,fontSize:12}}],yAxis:[{type:"category",data:this.totalTime,axisPointer:{type:"shadow"}}],series:[{name:"PV",type:"bar",barWidth:"30%",data:this.totalData}]};if(!this.totalChart){let t=document.getElementById("total-chart");this.totalChart=this.$echarts.init(t),this.totalChartObserve=new ResizeObserver(t=>{this.totalChart.resize()}),this.totalChartObserve.observe(t),this.$once("hook:beforeDestroy",(function(){this.totalChartObserve.unobserve(t)}))}this.totalChart.setOption(t)}}},a=(i("8536"),i("2877")),s=Object(a.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"home-visitor"},[t._m(0),e("div",{staticClass:"right shadow"},[e("div",{staticClass:"total-text-group"},[e("div",{staticClass:"label text"},[t._v("实时访客总数(PV)："+t._s(t._f("emptyTip")(t.visitorCount)))]),e("div",{staticClass:"rate text"},[t._v(t._s(t._f("emptyTip")(t.visitorRate))+" 同昨日比较")])]),e("div",{attrs:{id:"total-chart"}})])])}),[function(){var t=this._self._c;return t("div",{staticClass:"left shadow"},[t("div",{attrs:{id:"visitor-chart"}})])}],!1,null,"497a273a",null);e.default=s.exports},8536:function(t,e,i){"use strict";i("1251")}}]);
//# sourceMappingURL=chunk-4649980c.4fe07a04.js.map