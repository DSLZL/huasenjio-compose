(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3534a2ad"],{"0d26":function(t,e,i){"use strict";var s=i("e330"),r=Error,l=s("".replace),a=String(new r("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,n=o.test(a);t.exports=function(t,e){if(n&&"string"==typeof t&&!r.prepareStackTrace)for(;e--;)t=l(t,o,"");return t}},1787:function(t,e,i){"use strict";var s=i("861d");t.exports=function(t){return s(t)||null===t}},1913:function(t,e,i){},"20a5":function(t,e,i){"use strict";i("9c5f")},"278d":function(t,e,i){"use strict";i.r(e);i("d9e25"),i("14d9"),i("e9f5"),i("ab43");var s={name:"ImgUpload",props:{size:{type:String,default:"48px"},url:{type:String,default:""}}},r=(i("4b29"),i("2877")),l=Object(r.a)(s,(function(){var t=this._self._c;return t("div",{staticClass:"img-upload relative",style:{width:this.size,height:this.size}},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{unload:i("4101")},expression:"{ unload: require('@/assets/img/error/image-error.png') }"}],staticClass:"max-w-full max-h-full",attrs:{src:this.url}}),this._m(0)])}),[function(){var t=this._self._c;return t("div",{staticClass:"img-upload__shadow flex-center"},[t("i",{staticClass:"el-icon-upload text-white"})])}],!1,null,"048e9a67",null).exports,a=i("a9c8");const o=new(i("dabc").a),n=o.verify.bind(o),c=o.getElementFormValidator.bind(o);var p={name:"Setting",components:{VueJsonEditor:a.a,ImgUpload:l},data:()=>({loaded:!1,activeNames:["site","theme","mail","code"],site:{brandName:"花森",brandUrl:"https://n.huasenjio.top/huasen-store/icon/logo.png",brandDescription:"花森起始页由可自定义网址导航、文章博客、后台管理模块组成的开源项目，专注于收录互联网优秀站点，涵盖了生活、娱乐、学习、影视、考研、工作、科技、工具等领域，提供一个信息聚合的空间，让用户高效上网冲浪的综合性平台！",brandKeywords:"huasenjio.top,花森起始页,花森主页,花森导航,花森博客,花生起始页,花生主页,花生网址导航,花生博客,综合门户,网址导航,实用工具",redirectUrl:"https://huasenjio.top/",origin:"",headHtml:"",bodyHtml:"",footerHtml:"",openLabelClassification:!1,autoIconPatch:!1,jwt:"abcdefghyjklmnobqrstuvwhyz123456",jwtLiveTime:604800,cityCode:101210101,notifyArticleId:null},siteRule:{redirectUrl:[{validator:c(["isUrl::链接格式不正确"])}],jwt:[{validator:c(["minLength:32::请输入32个字符","maxLength:32::请输入32个字符"])},{validator:(t,e,i)=>{""===e||/^[0-9a-zA-Z]+$/.test(e)||i(new Error("仅支持字母/数字组合")),i()}}],headHtml:[{validator:c(["isValidHeadTag::请输入title、meta、link、style、script、base、noscript标签，并且必须闭合！"])}],bodyHtml:[{validator:c(["isValidHtmlTag::请输入符合HTML规范的标签，并且必须闭合！"])}]},mail:{host:"smtp.qq.com",port:465,user:"test@qq.com",mtp:""},theme:{pure:[{color:"#FFFFFF",background:"#000000"},{color:"#000000",background:"#FFFFFF"}],wallpaper:[{headerFontColor:"#FFFFFF",background:"https://s2.loli.net/2023/03/31/oSz3nJB84dC5ueh.jpg"},{headerFontColor:"#000000",background:"https://s2.loli.net/2023/03/31/W9n7RoFvhtlpg6U.jpg"}],default:{order:-1,bg:"",color:""}},themeRule:{"default.color":[{validator:c(["isColor::内容不正确"])}]},cityOptions:[],articleOptions:[],currentUploading:{form:null,key:""},originPure:[],originWallpaper:[],settingKeys:[]}),created(){this.queryCity(),this.queryConfig(),this.queryArticle()},computed:{setting:{get(){let t=this.settingKeys||[],e={};for(let i of t)e[i]=this[i];return e},set(t){}}},methods:{isDefaultTheme(t,e,i){return"pure"===t?this.theme.default.bg===e.background&&this.theme.default.color===e.color&&this.theme.default.order===i:"wallpaper"===t?this.theme.default.bg===e.background&&this.theme.default.color===e.headerFontColor&&this.theme.default.order===i:void 0},handleJSONSave(t){this.$confirm("该操作将忽略上面所有表单输入项，并且保存编辑器中的代码作为最新配置，您确定吗？","保存配置代码",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let e=this;this.settingKeys=Object.keys(t);for(let i of this.settingKeys)["site","mail","theme"].includes(i)?this.TOOL.overrideKeys(e[i],t[i]):e[i]=t[i];this.saveConfig()}).catch(()=>{})},reset(){this.$refs.siteForm.resetFields(),this.$refs.mailForm.resetFields(),this.$refs.themeForm.resetFields(),this.theme.pure=this.LODASH.cloneDeep(this.originPure),this.theme.wallpaper=this.LODASH.cloneDeep(this.originWallpaper),this.$tips("success","重置配置成功",null,2e3)},queryCity(){this.API.app.getCity().then(t=>{this.cityOptions=t.data})},queryConfig(){this.API.app.findAppConfig({},{notify:!1}).then(t=>{this.loaded=!1,this.settingKeys=Object.keys(t.data);for(let e of this.settingKeys)this[e]=t.data[e];this.originPure=this.LODASH.cloneDeep(this.theme.pure),this.originWallpaper=this.LODASH.cloneDeep(this.theme.wallpaper),this.loaded=!0})},saveConfig(){let t=[];t.push(this.checkForm("siteForm"),this.checkForm("mailForm"),this.checkForm("themeForm")),Promise.all(t).then(()=>{this.API.app.saveAppConfig({systemConfig:JSON.stringify(this.setting,null,2)},{secret:"rsa"}).then(t=>{this.loaded=!1,this.originPure=this.LODASH.cloneDeep(this.theme.pure),this.originWallpaper=this.LODASH.cloneDeep(this.theme.wallpaper),this.$nextTick(()=>{this.loaded=!0})})}).catch(()=>{this.$tips("error","校验失败，请检查配置输入项！",null,2e3)})},checkForm(t){return new Promise((e,i)=>{this.$refs[t].validate(t=>{t?e():i()})})},queryArticle(){this.API.article.findArticleByList({},{notify:!1,secret:"rsa"}).then(t=>{this.articleOptions=t.data.map(t=>({label:t.title,value:t._id}))})},checkImgUrl:t=>n([{value:t,rules:[{strategy:"isNonEmpty",errMsg:"必填项"}]}]),checkColorCode:t=>n([{value:t,rules:[{strategy:"isNonEmpty",errMsg:"必填项"},{strategy:"isColor",errMsg:"内容格式不正确"}]}]),addTheme(t){let e;switch(t){case"pure":e={color:"#ffffff",background:"#000000"};break;case"wallpaper":e={headerFontColor:"#FFFFFF",background:""}}e&&this.theme[t].push(e)},handleUpload(t,e){this.currentUploading.form=t,this.currentUploading.key=e;let i=document.getElementById("js-img-picker");i&&i.click()},upload(t){const e=t.target.files[0];let i=new FormData;i.append("file",e),this.API.file.uploadFile(i,{url:"/file/upload?type=img"}).then(e=>{this.currentUploading.form[this.currentUploading.key]=this.LODASH.get(e.data,"0.path"),t.target.value=null})},removeTheme(t,e,i){this.theme[t].splice(i,1)},setDefaultTheme(t,e,i){this.theme.default.order=i,this.theme.default.bg=e.background,this.theme.default.color="pure"===t?e.color:e.headerFontColor}}},u=(i("5fdd"),i("20a5"),Object(r.a)(p,(function(){var t=this,e=t._self._c;return t.loaded?e("div",{staticClass:"setting"},[e("el-alert",{attrs:{title:"温馨提示：请您关注官方开源仓库 setting.json 文件，并且及时合并配置项，以确保网站稳定性和体验新功能。",type:"info","show-icon":""}}),e("el-collapse",{staticClass:"setting-collapse",model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[e("el-collapse-item",{attrs:{name:"site"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-monitor mr-px-4"}),t._v(" 站点配置")]),e("el-form",{ref:"siteForm",staticClass:"site-form",attrs:{model:t.site,rules:t.siteRule}},[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"brandName"}},[e("el-input",{attrs:{size:"small",placeholder:"请输入品牌名"},model:{value:t.site.brandName,callback:function(e){t.$set(t.site,"brandName",e)},expression:"site.brandName"}},[e("template",{slot:"prepend"},[t._v("品牌名称")])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"brandDescription"}},[e("el-input",{attrs:{size:"small",placeholder:"请输入描述"},model:{value:t.site.brandDescription,callback:function(e){t.$set(t.site,"brandDescription",e)},expression:"site.brandDescription"}},[e("template",{slot:"prepend"},[t._v("品牌描述")])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"brandKeywords"}},[e("el-input",{attrs:{size:"small",placeholder:"请输入关键词"},model:{value:t.site.brandKeywords,callback:function(e){t.$set(t.site,"brandKeywords",e)},expression:"site.brandKeywords"}},[e("template",{slot:"prepend"},[t._v("品牌关键词")])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"brandUrl"}},[e("el-input",{attrs:{size:"small",placeholder:"请输入链接"},model:{value:t.site.brandUrl,callback:function(e){t.$set(t.site,"brandUrl",e)},expression:"site.brandUrl"}},[e("template",{slot:"prepend"},[t._v("品牌图片")]),e("template",{slot:"append"},[e("ImgUpload",{attrs:{size:"28px",url:t.site.brandUrl},nativeOn:{click:function(e){return t.handleUpload(t.site,"brandUrl")}}})],1)],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"redirectUrl"}},[e("el-input",{attrs:{size:"small",placeholder:"请输入重定向地址"},model:{value:t.site.redirectUrl,callback:function(e){t.$set(t.site,"redirectUrl",e)},expression:"site.redirectUrl"}},[e("template",{slot:"prepend"},[e("div",{staticClass:"input__prepend flex items-center justify-between"},[t._v(" 重定向地址 "),e("el-tooltip",{attrs:{content:"用户访问网站地址错误时，将会自动跳转到该链接。",placement:"right"}},[e("i",{staticClass:"el-icon-info"})])],1)])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"origin"}},[e("el-input",{attrs:{size:"small",placeholder:"请输入访问源"},model:{value:t.site.origin,callback:function(e){t.$set(t.site,"origin",e)},expression:"site.origin"}},[e("template",{slot:"prepend"},[e("div",{staticClass:"input__prepend flex items-center justify-between"},[t._v(" 访问源 "),e("el-tooltip",{attrs:{content:"用于拼接整站资源访问地址，例如：协议://域名，末尾不用添加/，建议输入值与主站location.origin一致！",placement:"bottom"}},[e("i",{staticClass:"el-icon-info"})])],1)])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"headHtml"}},[e("el-input",{attrs:{size:"small",placeholder:"添加HTML片段到<head></head>标签中"},model:{value:t.site.headHtml,callback:function(e){t.$set(t.site,"headHtml",e)},expression:"site.headHtml"}},[e("template",{slot:"prepend"},[e("div",{staticClass:"input__prepend flex items-center justify-between"},[t._v(" 页头代码 "),e("el-tooltip",{attrs:{content:"该代码将会插入<head></head>中，例如：title、meta、link、style、script、base、noscript等标签，请严格遵守W3C规范！",placement:"bottom"}},[e("i",{staticClass:"el-icon-info"})])],1)])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"bodyHtml"}},[e("el-input",{attrs:{size:"small",placeholder:"添加HTML片段到<body></body>标签中"},model:{value:t.site.bodyHtml,callback:function(e){t.$set(t.site,"bodyHtml",e)},expression:"site.bodyHtml"}},[e("template",{slot:"prepend"},[e("div",{staticClass:"input__prepend flex items-center justify-between"},[t._v(" 页体代码 "),e("el-tooltip",{attrs:{content:"该代码将会插入<body></body>中，例如：h1、div、span、img、video等标签，请严格遵守W3C规范！",placement:"bottom"}},[e("i",{staticClass:"el-icon-info"})])],1)])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"footerHtml"}},[e("el-input",{attrs:{size:"small",placeholder:"添加HTML片段到页脚"},model:{value:t.site.footerHtml,callback:function(e){t.$set(t.site,"footerHtml",e)},expression:"site.footerHtml"}},[e("template",{slot:"prepend"},[t._v("页脚代码")])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"jwt"}},[e("el-input",{attrs:{size:"small",placeholder:"请输入令牌密钥"},model:{value:t.site.jwt,callback:function(e){t.$set(t.site,"jwt",e)},expression:"site.jwt"}},[e("template",{slot:"prepend"},[e("div",{staticClass:"input__prepend flex items-center justify-between"},[t._v(" 令牌密钥 "),e("el-tooltip",{attrs:{placement:"right",content:"用户登录凭证加密串，一旦更改，所有用户需要重新登录，请您谨慎修改！"}},[e("i",{staticClass:"el-icon-info"})])],1)])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"jwtLiveTime"}},[e("el-input",{attrs:{size:"small",placeholder:"请输入令牌存活时间"},on:{input:e=>t.site.jwtLiveTime=Number(e.replace(/[^0-9.]/g,""))||604800},model:{value:t.site.jwtLiveTime,callback:function(e){t.$set(t.site,"jwtLiveTime",e)},expression:"site.jwtLiveTime"}},[e("template",{slot:"prepend"},[e("div",{staticClass:"input__prepend flex items-center justify-between"},[t._v(" 令牌存活时间 "),e("el-tooltip",{attrs:{content:"用户登录凭证有效期，单位：毫秒，例如：1000 * 60 * 60 * 24 * 7 = 604800 = 7天，不宜过小，否则影响用户体验！"}},[e("i",{staticClass:"el-icon-info"})])],1)])],2)],1)],1),e("el-col",{attrs:{span:24}}),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"autoIconPatch"}},[e("div",{staticClass:"setting__form-item"},[e("div",{staticClass:"setting__form-item__label"},[t._v(" 网链图标自动补全策略 "),e("el-tooltip",{attrs:{content:"开启状态下，若链接图标未配置或加载失败，则自动请求favicon.im补全显示。",placement:"right"}},[e("i",{staticClass:"el-icon-info text-gray-600"})])],1),e("div",{staticClass:"setting__form-item__value"},[e("el-switch",{attrs:{"active-text":"开启","inactive-text":"关闭"},model:{value:t.site.autoIconPatch,callback:function(e){t.$set(t.site,"autoIconPatch",e)},expression:"site.autoIconPatch"}})],1)])]),e("el-form-item",{attrs:{prop:"openLabelClassification"}},[e("div",{staticClass:"setting__form-item"},[e("div",{staticClass:"setting__form-item__label"},[t._v("网链标签分类")]),e("div",{staticClass:"setting__form-item__value"},[e("el-switch",{attrs:{"active-text":"显示","inactive-text":"隐藏"},model:{value:t.site.openLabelClassification,callback:function(e){t.$set(t.site,"openLabelClassification",e)},expression:"site.openLabelClassification"}})],1)])]),e("el-form-item",{attrs:{prop:"cityCode"}},[e("div",{staticClass:"setting__form-item"},[e("div",{staticClass:"setting__form-item__label"},[t._v(" 默认城市 "),e("el-tooltip",{attrs:{content:"网站默认显示已选城市的天气信息",placement:"right"}},[e("i",{staticClass:"el-icon-info text-gray-600"})])],1),e("div",{staticClass:"setting__form-item__value"},[e("el-select",{staticStyle:{flex:"1"},attrs:{size:"small",filterable:"",placeholder:"请选择城市码"},model:{value:t.site.cityCode,callback:function(e){t.$set(t.site,"cityCode",e)},expression:"site.cityCode"}},t._l(t.cityOptions,(function(t,i){return e("el-option",{key:i,attrs:{label:t.countyname,value:t.areaid}})})),1)],1)])]),e("el-form-item",{attrs:{prop:"notifyArticleId"}},[e("div",{staticClass:"setting__form-item"},[e("div",{staticClass:"setting__form-item__label"},[t._v(" 公告文章 "),e("el-tooltip",{attrs:{content:"选择已发布文章作为网站公告",placement:"right"}},[e("i",{staticClass:"el-icon-info text-gray-600"})])],1),e("div",{staticClass:"setting__form-item__value"},[e("el-select",{staticStyle:{flex:"1"},attrs:{size:"small",filterable:"",placeholder:"请选择"},model:{value:t.site.notifyArticleId,callback:function(e){t.$set(t.site,"notifyArticleId",e)},expression:"site.notifyArticleId"}},t._l(t.articleOptions,(function(t,i){return e("el-option",{key:i,attrs:{label:t.label,value:t.value}})})),1)],1)])])],1)],1)],1)],2),e("el-collapse-item",{staticClass:"theme",attrs:{name:"theme"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-magic-stick mr-px-4"}),t._v("墙纸配置")]),e("el-form",{ref:"themeForm",staticClass:"theme-form",attrs:{model:t.theme,rules:t.themeRule}},[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"default.bg"}},[e("el-input",{attrs:{placeholder:"<图片链接 | 颜色代码>"},model:{value:t.theme.default.bg,callback:function(e){t.$set(t.theme.default,"bg",e)},expression:"theme.default.bg"}},[e("template",{slot:"prepend"},[t._v("默认背景")])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"default.color"}},[e("el-input",{attrs:{placeholder:"<颜色代码>"},model:{value:t.theme.default.color,callback:function(e){t.$set(t.theme.default,"color",e)},expression:"theme.default.color"}},[e("template",{slot:"prepend"},[t._v("默认字体颜色")])],2)],1)],1)],1),e("div",{staticClass:"theme-item pure"},[e("div",{staticClass:"px-px-2 text-bold"},[t._v(" 纯色背景列表 "),e("i",{staticClass:"el-icon-circle-plus text-green-500 pointer",on:{click:function(e){return t.addTheme("pure")}}})]),e("ul",{staticClass:"flex overflow-x-auto px-px-2 py-px-6"},t._l(t.theme.pure,(function(i,s){return e("li",{key:s,staticClass:"pure__item flex-shrink-0 relative w-px-184 ml-px-15 first:ml-px-0 shadow p-px-8 rounded"},[e("div",{staticClass:"icon__group"},[e("i",{staticClass:"icon__top el-icon-top text-blue-500",attrs:{title:"设为默认"},on:{click:function(e){return t.setDefaultTheme("pure",i,s)}}}),e("i",{staticClass:"icon__remove el-icon-remove text-red-500",attrs:{title:"移除色块"},on:{click:function(e){return t.removeTheme("pure",i,s)}}}),t.isDefaultTheme("pure",i,s)?e("i",{staticClass:"pure__icon--default el-icon-success text-green-500",attrs:{title:"默认主题"}}):t._e()]),e("el-tooltip",{staticClass:"item",attrs:{disabled:!t.checkColorCode(i.background),effect:"light",content:"数据格式异常",placement:"right"}},[e("el-input",{class:{"error-tip":!!t.checkColorCode(i.background)},attrs:{placeholder:"背景颜色"},model:{value:i.background,callback:function(e){t.$set(i,"background",e)},expression:"item.background"}},[e("el-color-picker",{staticClass:"relative top-px-5 left-px-0",attrs:{slot:"prefix","popper-class":"setting-color-picker-popper",size:"mini"},slot:"prefix",model:{value:i.background,callback:function(e){t.$set(i,"background",e)},expression:"item.background"}})],1)],1),e("el-tooltip",{staticClass:"item",attrs:{disabled:!t.checkColorCode(i.color),effect:"light",content:"数据格式异常",placement:"right"}},[e("el-input",{staticClass:"mt-px-4",class:{"error-tip":!!t.checkColorCode(i.color)},attrs:{placeholder:"字体颜色"},model:{value:i.color,callback:function(e){t.$set(i,"color",e)},expression:"item.color"}},[e("el-color-picker",{staticClass:"relative top-px-5 left-px-0",attrs:{slot:"prefix","popper-class":"setting-color-picker-popper",size:"mini"},slot:"prefix",model:{value:i.color,callback:function(e){t.$set(i,"color",e)},expression:"item.color"}})],1)],1)],1)})),0)]),e("div",{staticClass:"theme-item wallpaper"},[e("div",{staticClass:"px-px-2 text-bold"},[t._v(" 壁纸背景列表 "),e("i",{staticClass:"el-icon-circle-plus text-green-500 pointer",on:{click:function(e){return t.addTheme("wallpaper")}}})]),e("ul",{staticClass:"flex overflow-x-auto px-px-2 py-px-6"},t._l(t.theme.wallpaper,(function(s,r){return e("li",{key:r,staticClass:"wallpaper__item relative flex-shrink-0 w-px-184 ml-px-15 first:ml-px-0 shadow p-px-8 rounded"},[e("div",{staticClass:"icon__group"},[e("i",{staticClass:"icon__top el-icon-top text-blue-500",attrs:{title:"设为默认"},on:{click:function(e){return t.setDefaultTheme("wallpaper",s,r)}}}),e("i",{staticClass:"icon__remove el-icon-remove text-red-500",attrs:{title:"移除壁纸"},on:{click:function(e){return t.removeTheme("wallpaper",s,r)}}}),t.isDefaultTheme("wallpaper",s,r)?e("i",{staticClass:"icon__default el-icon-success text-green-500",attrs:{title:"默认主题"}}):t._e()]),e("div",{staticClass:"w-full h-px-80 mb-px-4 text-center p-px-4 bg-gray-100 border border-dashed border-gray-400 rounded"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{unload:i("4101")},expression:"{ unload: require('@/assets/img/error/image-error.png') }"}],staticClass:"max-w-full max-h-full rounded",attrs:{src:s.background}})]),e("el-tooltip",{staticClass:"item",attrs:{disabled:!t.checkImgUrl(s.background),effect:"light",content:"数据格式异常",placement:"right"}},[e("el-input",{class:{"error-tip":!!t.checkImgUrl(s.background)},attrs:{placeholder:"图片链接"},model:{value:s.background,callback:function(e){t.$set(s,"background",e)},expression:"item.background"}},[e("div",{staticClass:"w-px-28 h-px-28 p-px-4 relative top-px-5 left-px-0 border border-solid border-gray-300 rounded flex justify-center items-center pointer",attrs:{slot:"prefix"},slot:"prefix"},[e("i",{staticClass:"el-icon-upload text-lg text-gray-600 hover:text-blue-600",on:{click:function(e){return t.handleUpload(s,"background")}}})])])],1),e("el-tooltip",{staticClass:"item",attrs:{disabled:!t.checkColorCode(s.headerFontColor),effect:"light",content:"数据格式异常",placement:"right"}},[e("el-input",{staticClass:"mt-px-4",class:{"error-tip":!!t.checkColorCode(s.headerFontColor)},attrs:{placeholder:"字体颜色"},model:{value:s.headerFontColor,callback:function(e){t.$set(s,"headerFontColor",e)},expression:"item.headerFontColor"}},[e("el-color-picker",{staticClass:"relative top-px-5 left-px-0",attrs:{slot:"prefix","popper-class":"setting-color-picker-popper",size:"mini"},slot:"prefix",model:{value:s.headerFontColor,callback:function(e){t.$set(s,"headerFontColor",e)},expression:"item.headerFontColor"}})],1)],1)],1)})),0)])],1)],2),e("el-collapse-item",{attrs:{name:"mail"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-message mr-px-4"}),t._v("邮箱配置")]),e("el-form",{ref:"mailForm",staticClass:"mail-form",attrs:{model:t.mail}},[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"host"}},[e("el-input",{attrs:{placeholder:"<主机>"},model:{value:t.mail.host,callback:function(e){t.$set(t.mail,"host",e)},expression:"mail.host"}},[e("template",{slot:"prepend"},[t._v("host")])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"port"}},[e("el-input",{attrs:{placeholder:"<端口>"},on:{input:e=>t.mail.port=Number(e.replace(/[^0-9.]/g,""))||465},model:{value:t.mail.port,callback:function(e){t.$set(t.mail,"port",e)},expression:"mail.port"}},[e("template",{slot:"prepend"},[t._v("port")])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"user"}},[e("el-input",{attrs:{placeholder:"<用户>"},model:{value:t.mail.user,callback:function(e){t.$set(t.mail,"user",e)},expression:"mail.user"}},[e("template",{slot:"prepend"},[t._v("user")])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"mtp"}},[e("el-input",{attrs:{placeholder:"<通行码>"},model:{value:t.mail.mtp,callback:function(e){t.$set(t.mail,"mtp",e)},expression:"mail.mtp"}},[e("template",{slot:"prepend"},[t._v("mtp")])],2)],1)],1)],1)],1)],2),e("el-collapse-item",{attrs:{name:"code"}},[e("template",{slot:"title"},[e("div",{staticClass:"flex items-center"},[e("i",{staticClass:"el-icon-table-lamp mr-px-4"}),t._v("配置代码总览"),e("font",{staticClass:"text-red-500"})],1)]),e("el-alert",{attrs:{title:"点击「SAVE」保存手动修改的配置代码，需要注意，您的输入不会被校验，请确保正确性，否则网站无法启动！",type:"warning","show-icon":"",closable:!1}}),e("el-row",{staticClass:"mt-px-8",attrs:{gutter:10}},[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"result"},[e("VueJsonEditor",{staticClass:"json-edit",attrs:{"show-btns":!0,expandedOnStart:!0,mode:"view",modes:["code","view"]},on:{"json-save":t.handleJSONSave},model:{value:t.setting,callback:function(e){t.setting=e},expression:"setting"}})],1)])],1)],2)],1),e("div",{staticClass:"operation mt-px-10 flex justify-end"},[e("el-button",{attrs:{type:"primary"},on:{click:t.saveConfig}},[t._v("保存配置")]),e("el-button",{attrs:{type:"danger"},on:{click:t.reset}},[t._v("重置配置")])],1),e("input",{staticStyle:{display:"none"},attrs:{id:"js-img-picker",accept:"image/gif,image/jpeg,image/jpg,image/png,image/svg+xml",type:"file"},on:{change:function(e){return t.upload(e)}}})],1):t._e()}),[],!1,null,"69acd923",null));e.default=u.exports},"2ba4":function(t,e,i){"use strict";var s=i("40d5"),r=Function.prototype,l=r.apply,a=r.call;t.exports="object"==typeof Reflect&&Reflect.apply||(s?a.bind(l):function(){return a.apply(l,arguments)})},"3bbe":function(t,e,i){"use strict";var s=i("1787"),r=String,l=TypeError;t.exports=function(t){if(s(t))return t;throw new l("Can't set "+r(t)+" as a prototype")}},"43c7":function(t,e,i){},"4b29":function(t,e,i){"use strict";i("1913")},"5fdd":function(t,e,i){"use strict";i("43c7")},"6f19":function(t,e,i){"use strict";var s=i("9112"),r=i("0d26"),l=i("b980"),a=Error.captureStackTrace;t.exports=function(t,e,i,o){l&&(a?a(t,e):s(t,"stack",r(i,o)))}},7156:function(t,e,i){"use strict";var s=i("1626"),r=i("861d"),l=i("d2bb");t.exports=function(t,e,i){var a,o;return l&&s(a=e.constructor)&&a!==i&&r(o=a.prototype)&&o!==i.prototype&&l(t,o),t}},7282:function(t,e,i){"use strict";var s=i("e330"),r=i("59ed");t.exports=function(t,e,i){try{return s(r(Object.getOwnPropertyDescriptor(t,e)[i]))}catch(t){}}},"9c5f":function(t,e,i){},ab36:function(t,e,i){"use strict";var s=i("861d"),r=i("9112");t.exports=function(t,e){s(e)&&"cause"in e&&r(t,"cause",e.cause)}},aeb0:function(t,e,i){"use strict";var s=i("9bf2").f;t.exports=function(t,e,i){i in t||s(t,i,{configurable:!0,get:function(){return e[i]},set:function(t){e[i]=t}})}},b980:function(t,e,i){"use strict";var s=i("d039"),r=i("5c6c");t.exports=!s((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",r(1,7)),7!==t.stack)}))},d2bb:function(t,e,i){"use strict";var s=i("7282"),r=i("861d"),l=i("1d80"),a=i("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=s(Object.prototype,"__proto__","set"))(i,[]),e=i instanceof Array}catch(t){}return function(i,s){return l(i),a(s),r(i)?(e?t(i,s):i.__proto__=s,i):i}}():void 0)},d9e25:function(t,e,i){"use strict";var s=i("23e7"),r=i("cfe9"),l=i("2ba4"),a=i("e5cb"),o=r.WebAssembly,n=7!==new Error("e",{cause:7}).cause,c=function(t,e){var i={};i[t]=a(t,e,n),s({global:!0,constructor:!0,arity:1,forced:n},i)},p=function(t,e){if(o&&o[t]){var i={};i[t]=a("WebAssembly."+t,e,n),s({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:n},i)}};c("Error",(function(t){return function(e){return l(t,this,arguments)}})),c("EvalError",(function(t){return function(e){return l(t,this,arguments)}})),c("RangeError",(function(t){return function(e){return l(t,this,arguments)}})),c("ReferenceError",(function(t){return function(e){return l(t,this,arguments)}})),c("SyntaxError",(function(t){return function(e){return l(t,this,arguments)}})),c("TypeError",(function(t){return function(e){return l(t,this,arguments)}})),c("URIError",(function(t){return function(e){return l(t,this,arguments)}})),p("CompileError",(function(t){return function(e){return l(t,this,arguments)}})),p("LinkError",(function(t){return function(e){return l(t,this,arguments)}})),p("RuntimeError",(function(t){return function(e){return l(t,this,arguments)}}))},e391:function(t,e,i){"use strict";var s=i("577e");t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:s(t)}},e5cb:function(t,e,i){"use strict";var s=i("d066"),r=i("1a2d"),l=i("9112"),a=i("3a9b"),o=i("d2bb"),n=i("e893"),c=i("aeb0"),p=i("7156"),u=i("e391"),d=i("ab36"),m=i("6f19"),f=i("83ab"),h=i("c430");t.exports=function(t,e,i,g){var v=g?2:1,b=t.split("."),x=b[b.length-1],y=s.apply(null,b);if(y){var C=y.prototype;if(!h&&r(C,"cause")&&delete C.cause,!i)return y;var _=s("Error"),k=e((function(t,e){var i=u(g?e:t,void 0),s=g?new y(t):new y;return void 0!==i&&l(s,"message",i),m(s,k,s.stack,2),this&&a(C,this)&&p(s,this,k),arguments.length>v&&d(s,arguments[v]),s}));if(k.prototype=C,"Error"!==x?o?o(k,_):n(k,_,{name:!0}):f&&"stackTraceLimit"in y&&(c(k,y,"stackTraceLimit"),c(k,y,"prepareStackTrace")),n(k,y),!h)try{C.name!==x&&l(C,"name",x),C.constructor=k}catch(t){}return k}}}}]);
//# sourceMappingURL=chunk-3534a2ad.b36a5762.js.map