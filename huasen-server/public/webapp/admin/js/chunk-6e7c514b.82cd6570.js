(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6e7c514b"],{"0d26":function(t,e,r){"use strict";var i=r("e330"),s=Error,l=i("".replace),a=String(new s("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,n=o.test(a);t.exports=function(t,e){if(n&&"string"==typeof t&&!s.prepareStackTrace)for(;e--;)t=l(t,o,"");return t}},1787:function(t,e,r){"use strict";var i=r("861d");t.exports=function(t){return i(t)||null===t}},1913:function(t,e,r){},"278d":function(t,e,r){"use strict";r.r(e);r("d9e25"),r("14d9"),r("e9f5"),r("ab43");var i={name:"ImgUpload",props:{size:{type:String,default:"48px"},url:{type:String,default:""}}},s=(r("4b29"),r("2877")),l=Object(s.a)(i,(function(){var t=this._self._c;return t("div",{staticClass:"img-upload relative",style:{width:this.size,height:this.size}},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{unload:r("4101")},expression:"{ unload: require('@/assets/img/error/image-error.png') }"}],staticClass:"max-w-full max-h-full",attrs:{src:this.url}}),this._m(0)])}),[function(){var t=this._self._c;return t("div",{staticClass:"img-upload__shadow flex-center"},[t("i",{staticClass:"el-icon-upload text-white"})])}],!1,null,"048e9a67",null).exports,a=r("a9c8");const o=new(r("dabc").a),n=o.verify.bind(o),c=o.getElementFormValidator.bind(o);var p={name:"Setting",components:{VueJsonEditor:a.a,ImgUpload:l},data:()=>({loaded:!1,activeNames:["site","theme","mail","code"],site:{brandName:"花森",brandUrl:"https://n.huasenjio.top/huasen-store/icon/logo.png",brandDescription:"花森起始页由可自定义网址导航、文章博客、后台管理模块组成的开源项目，专注于收录互联网优秀站点，涵盖了生活、娱乐、学习、影视、考研、工作、科技、工具等领域，提供一个信息聚合的空间，让用户高效上网冲浪的综合性平台！",brandKeywords:"huasenjio.top,花森起始页,花森主页,花森导航,花森博客,花生起始页,花生主页,花生网址导航,花生博客,综合门户,网址导航,实用工具",redirectUrl:"https://huasenjio.top/",origin:"",headHtml:"",bodyHtml:"",footerHtml:"",openLabelClassification:!1,autoIconPatch:!1,jwt:"abcdefghyjklmnobqrstuvwhyz123456",jwtLiveTime:604800,cityCode:101210101,notifyArticleId:null},siteRule:{redirectUrl:[{validator:c(["isUrl::链接格式不正确"])}],jwt:[{validator:c(["minLength:32::请输入32个字符","maxLength:32::请输入32个字符"])},{validator:(t,e,r)=>{""===e||/^[0-9a-zA-Z]+$/.test(e)||r(new Error("仅支持字母/数字组合")),r()}}]},mail:{host:"smtp.qq.com",port:465,user:"test@qq.com",mtp:""},theme:{pure:[{color:"#FFFFFF",background:"#000000"},{color:"#000000",background:"#FFFFFF"}],wallpaper:[{headerFontColor:"#FFFFFF",background:"https://s2.loli.net/2023/03/31/oSz3nJB84dC5ueh.jpg"},{headerFontColor:"#000000",background:"https://s2.loli.net/2023/03/31/W9n7RoFvhtlpg6U.jpg"}],default:{order:-1,bg:"",color:""}},themeRule:{"default.color":[{validator:c(["isColor::内容不正确"])}]},cityOptions:[],articleOptions:[],currentUploading:{form:null,key:""},originPure:[],originWallpaper:[],settingKeys:[]}),created(){this.queryCity(),this.queryConfig(),this.queryArticle()},computed:{setting(){let t=this.settingKeys||[],e={};for(let r of t)e[r]=this[r];return e}},methods:{isDefaultTheme(t,e,r){return"pure"===t?this.theme.default.bg===e.background&&this.theme.default.color===e.color&&this.theme.default.order===r:"wallpaper"===t?this.theme.default.bg===e.background&&this.theme.default.color===e.headerFontColor&&this.theme.default.order===r:void 0},handleJSONSave(t){this.$confirm("该操作将忽略上面所有表单输入项，并且保存编辑器中的代码作为最新配置，您确定吗？","保存配置代码",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let e=this;this.settingKeys=Object.keys(t);for(let r of this.settingKeys)["site","mail","theme"].includes(r)?this.TOOL.overrideKeys(e[r],t[r],!0):e[r]=t[r];this.saveConfig()}).catch(()=>{})},reset(){this.$refs.siteForm.resetFields(),this.$refs.mailForm.resetFields(),this.$refs.themeForm.resetFields(),this.theme.pure=this.LODASH.cloneDeep(this.originPure),this.theme.wallpaper=this.LODASH.cloneDeep(this.originWallpaper),this.$tips("success","重置配置成功",null,2e3)},queryCity(){this.API.app.getCity().then(t=>{this.cityOptions=t.data})},queryConfig(){this.API.app.findAppConfig({},{notify:!1}).then(t=>{this.loaded=!1,this.settingKeys=Object.keys(t.data);for(let e of this.settingKeys)this[e]=t.data[e];this.originPure=this.LODASH.cloneDeep(this.theme.pure),this.originWallpaper=this.LODASH.cloneDeep(this.theme.wallpaper),this.loaded=!0})},saveConfig(){let t=[];t.push(this.checkForm("siteForm"),this.checkForm("mailForm"),this.checkForm("themeForm")),Promise.all(t).then(()=>{this.API.app.saveAppConfig({systemConfig:JSON.stringify(this.setting,null,2)},{secret:"rsa"}).then(t=>{this.loaded=!1,this.originPure=this.LODASH.cloneDeep(this.theme.pure),this.originWallpaper=this.LODASH.cloneDeep(this.theme.wallpaper),this.$nextTick(()=>{this.loaded=!0})})}).catch(()=>{this.$tips("error","校验失败，请检查配置输入项！",null,2e3)})},checkForm(t){return new Promise((e,r)=>{this.$refs[t].validate(t=>{t?e():r()})})},queryArticle(){this.API.article.findArticleByList({},{notify:!1,secret:"rsa"}).then(t=>{this.articleOptions=t.data.map(t=>({label:t.title,value:t._id}))})},checkImgUrl:t=>n([{value:t,rules:[{strategy:"isNonEmpty",errMsg:"必填项"}]}]),checkColorCode:t=>n([{value:t,rules:[{strategy:"isNonEmpty",errMsg:"必填项"},{strategy:"isColor",errMsg:"内容格式不正确"}]}]),addTheme(t){let e;switch(t){case"pure":e={color:"#ffffff",background:"#000000"};break;case"wallpaper":e={headerFontColor:"#FFFFFF",background:""}}e&&this.theme[t].push(e)},handleUpload(t,e){this.currentUploading.form=t,this.currentUploading.key=e;let r=document.getElementById("js-img-picker");r&&r.click()},upload(t){const e=t.target.files[0];let r=new FormData;r.append("file",e),this.API.file.uploadFile(r,{url:"/file/upload?type=img"}).then(e=>{this.currentUploading.form[this.currentUploading.key]=this.LODASH.get(e.data,"0.path"),t.target.value=null})},removeTheme(t,e,r){this.theme[t].splice(r,1)},setDefaultTheme(t,e,r){this.theme.default.order=r,this.theme.default.bg=e.background,this.theme.default.color="pure"===t?e.color:e.headerFontColor}}},u=(r("cdfb"),r("d343"),Object(s.a)(p,(function(){var t=this,e=t._self._c;return t.loaded?e("div",{staticClass:"setting"},[e("el-collapse",{staticClass:"setting-collapse",model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[e("el-collapse-item",{attrs:{name:"site"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-monitor mr-px-4"}),t._v(" 站点配置")]),e("el-form",{ref:"siteForm",staticClass:"site-form",attrs:{model:t.site,rules:t.siteRule}},[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"brandName"}},[e("el-input",{attrs:{size:"small",placeholder:"请输入品牌名"},model:{value:t.site.brandName,callback:function(e){t.$set(t.site,"brandName",e)},expression:"site.brandName"}},[e("template",{slot:"prepend"},[t._v("品牌名称")])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"brandDescription"}},[e("el-input",{attrs:{size:"small",placeholder:"请输入描述"},model:{value:t.site.brandDescription,callback:function(e){t.$set(t.site,"brandDescription",e)},expression:"site.brandDescription"}},[e("template",{slot:"prepend"},[t._v("品牌描述")])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"brandKeywords"}},[e("el-input",{attrs:{size:"small",placeholder:"请输入关键词"},model:{value:t.site.brandKeywords,callback:function(e){t.$set(t.site,"brandKeywords",e)},expression:"site.brandKeywords"}},[e("template",{slot:"prepend"},[t._v("品牌关键词")])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"brandUrl"}},[e("el-input",{attrs:{size:"small",placeholder:"请输入链接"},model:{value:t.site.brandUrl,callback:function(e){t.$set(t.site,"brandUrl",e)},expression:"site.brandUrl"}},[e("template",{slot:"prepend"},[t._v("品牌图片")]),e("template",{slot:"append"},[e("ImgUpload",{attrs:{size:"28px",url:t.site.brandUrl},nativeOn:{click:function(e){return t.handleUpload(t.site,"brandUrl")}}})],1)],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"redirectUrl"}},[e("el-input",{attrs:{size:"small",placeholder:"请输入重定向地址"},model:{value:t.site.redirectUrl,callback:function(e){t.$set(t.site,"redirectUrl",e)},expression:"site.redirectUrl"}},[e("template",{slot:"prepend"},[e("div",{staticClass:"input__prepend flex items-center justify-between"},[t._v(" 重定向地址 "),e("el-tooltip",{attrs:{content:"用户访问网站地址错误时，将会自动跳转到该链接。",placement:"right"}},[e("i",{staticClass:"el-icon-info"})])],1)])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"origin"}},[e("el-input",{attrs:{size:"small",placeholder:"请输入访问源"},model:{value:t.site.origin,callback:function(e){t.$set(t.site,"origin",e)},expression:"site.origin"}},[e("template",{slot:"prepend"},[e("div",{staticClass:"input__prepend flex items-center justify-between"},[t._v(" 访问源 "),e("el-tooltip",{attrs:{content:"用于拼接整站资源访问地址，例如：协议://域名，末尾不用添加/，建议输入值与主站location.origin一致！",placement:"bottom"}},[e("i",{staticClass:"el-icon-info"})])],1)])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"headHtml"}},[e("el-input",{attrs:{size:"small",placeholder:"添加HTML片段到<head></head>标签中"},model:{value:t.site.headHtml,callback:function(e){t.$set(t.site,"headHtml",e)},expression:"site.headHtml"}},[e("template",{slot:"prepend"},[t._v("页头代码")])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"bodyHtml"}},[e("el-input",{attrs:{size:"small",placeholder:"添加HTML片段到<body></body>标签中"},model:{value:t.site.bodyHtml,callback:function(e){t.$set(t.site,"bodyHtml",e)},expression:"site.bodyHtml"}},[e("template",{slot:"prepend"},[t._v("页体代码")])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"footerHtml"}},[e("el-input",{attrs:{size:"small",placeholder:"添加HTML片段到页脚"},model:{value:t.site.footerHtml,callback:function(e){t.$set(t.site,"footerHtml",e)},expression:"site.footerHtml"}},[e("template",{slot:"prepend"},[t._v("页脚代码")])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"jwt"}},[e("el-input",{attrs:{size:"small",placeholder:"请输入令牌密钥"},model:{value:t.site.jwt,callback:function(e){t.$set(t.site,"jwt",e)},expression:"site.jwt"}},[e("template",{slot:"prepend"},[e("div",{staticClass:"input__prepend flex items-center justify-between"},[t._v(" 令牌密钥 "),e("el-tooltip",{attrs:{placement:"right",content:"用户登录凭证加密串，一旦更改，所有用户需要重新登录，请您谨慎修改！"}},[e("i",{staticClass:"el-icon-info"})])],1)])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"jwtLiveTime"}},[e("el-input",{attrs:{size:"small",placeholder:"请输入令牌存活时间"},on:{input:e=>t.site.jwtLiveTime=Number(e.replace(/[^0-9.]/g,""))||604800},model:{value:t.site.jwtLiveTime,callback:function(e){t.$set(t.site,"jwtLiveTime",e)},expression:"site.jwtLiveTime"}},[e("template",{slot:"prepend"},[e("div",{staticClass:"input__prepend flex items-center justify-between"},[t._v(" 令牌存活时间 "),e("el-tooltip",{attrs:{content:"用户登录凭证有效期，单位：毫秒，例如：1000 * 60 * 60 * 24 * 7 = 604800 = 7天，不宜过小，否则影响用户体验！"}},[e("i",{staticClass:"el-icon-info"})])],1)])],2)],1)],1),e("el-col",{attrs:{span:24}}),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"autoIconPatch"}},[e("div",{staticClass:"setting__form-item"},[e("div",{staticClass:"setting__form-item__label"},[t._v(" 网链图标自动补全策略 "),e("el-tooltip",{attrs:{content:"开启状态下，若链接图标未配置或加载失败，则自动请求favicon.im补全显示。",placement:"right"}},[e("i",{staticClass:"el-icon-info text-gray-600"})])],1),e("div",{staticClass:"setting__form-item__value"},[e("el-switch",{attrs:{"active-text":"开启","inactive-text":"关闭"},model:{value:t.site.autoIconPatch,callback:function(e){t.$set(t.site,"autoIconPatch",e)},expression:"site.autoIconPatch"}})],1)])]),e("el-form-item",{attrs:{prop:"openLabelClassification"}},[e("div",{staticClass:"setting__form-item"},[e("div",{staticClass:"setting__form-item__label"},[t._v("网链标签分类")]),e("div",{staticClass:"setting__form-item__value"},[e("el-switch",{attrs:{"active-text":"显示","inactive-text":"隐藏"},model:{value:t.site.openLabelClassification,callback:function(e){t.$set(t.site,"openLabelClassification",e)},expression:"site.openLabelClassification"}})],1)])]),e("el-form-item",{attrs:{prop:"cityCode"}},[e("div",{staticClass:"setting__form-item"},[e("div",{staticClass:"setting__form-item__label"},[t._v(" 默认城市 "),e("el-tooltip",{attrs:{content:"网站默认显示已选城市的天气信息",placement:"right"}},[e("i",{staticClass:"el-icon-info text-gray-600"})])],1),e("div",{staticClass:"setting__form-item__value"},[e("el-select",{staticStyle:{flex:"1"},attrs:{size:"small",filterable:"",placeholder:"请选择城市码"},model:{value:t.site.cityCode,callback:function(e){t.$set(t.site,"cityCode",e)},expression:"site.cityCode"}},t._l(t.cityOptions,(function(t,r){return e("el-option",{key:r,attrs:{label:t.countyname,value:t.areaid}})})),1)],1)])]),e("el-form-item",{attrs:{prop:"notifyArticleId"}},[e("div",{staticClass:"setting__form-item"},[e("div",{staticClass:"setting__form-item__label"},[t._v(" 公告文章 "),e("el-tooltip",{attrs:{content:"选择已发布文章作为网站公告",placement:"right"}},[e("i",{staticClass:"el-icon-info text-gray-600"})])],1),e("div",{staticClass:"setting__form-item__value"},[e("el-select",{staticStyle:{flex:"1"},attrs:{size:"small",filterable:"",placeholder:"请选择"},model:{value:t.site.notifyArticleId,callback:function(e){t.$set(t.site,"notifyArticleId",e)},expression:"site.notifyArticleId"}},t._l(t.articleOptions,(function(t,r){return e("el-option",{key:r,attrs:{label:t.label,value:t.value}})})),1)],1)])])],1)],1)],1)],2),e("el-collapse-item",{staticClass:"theme",attrs:{name:"theme"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-magic-stick mr-px-4"}),t._v("墙纸配置")]),e("el-form",{ref:"themeForm",staticClass:"theme-form",attrs:{model:t.theme,rules:t.themeRule}},[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"default.bg"}},[e("el-input",{attrs:{placeholder:"<图片链接 | 颜色代码>"},model:{value:t.theme.default.bg,callback:function(e){t.$set(t.theme.default,"bg",e)},expression:"theme.default.bg"}},[e("template",{slot:"prepend"},[t._v("默认背景")])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"default.color"}},[e("el-input",{attrs:{placeholder:"<颜色代码>"},model:{value:t.theme.default.color,callback:function(e){t.$set(t.theme.default,"color",e)},expression:"theme.default.color"}},[e("template",{slot:"prepend"},[t._v("默认字体颜色")])],2)],1)],1)],1),e("div",{staticClass:"theme-item pure"},[e("div",{staticClass:"px-px-2 text-bold"},[t._v(" 纯色背景列表 "),e("i",{staticClass:"el-icon-circle-plus text-green-500 pointer",on:{click:function(e){return t.addTheme("pure")}}})]),e("ul",{staticClass:"flex overflow-x-auto px-px-2 py-px-6"},t._l(t.theme.pure,(function(r,i){return e("li",{key:i,staticClass:"pure__item flex-shrink-0 relative w-px-184 ml-px-15 first:ml-px-0 shadow p-px-8 rounded"},[e("div",{staticClass:"icon__group"},[e("i",{staticClass:"icon__top el-icon-top text-blue-500",attrs:{title:"设为默认"},on:{click:function(e){return t.setDefaultTheme("pure",r,i)}}}),e("i",{staticClass:"icon__remove el-icon-remove text-red-500",attrs:{title:"移除色块"},on:{click:function(e){return t.removeTheme("pure",r,i)}}}),t.isDefaultTheme("pure",r,i)?e("i",{staticClass:"pure__icon--default el-icon-success text-green-500",attrs:{title:"默认主题"}}):t._e()]),e("el-tooltip",{staticClass:"item",attrs:{disabled:!t.checkColorCode(r.background),effect:"light",content:"数据格式异常",placement:"right"}},[e("el-input",{class:{"error-tip":!!t.checkColorCode(r.background)},attrs:{placeholder:"背景颜色"},model:{value:r.background,callback:function(e){t.$set(r,"background",e)},expression:"item.background"}},[e("el-color-picker",{staticClass:"relative top-px-5 left-px-0",attrs:{slot:"prefix","popper-class":"setting-color-picker-popper",size:"mini"},slot:"prefix",model:{value:r.background,callback:function(e){t.$set(r,"background",e)},expression:"item.background"}})],1)],1),e("el-tooltip",{staticClass:"item",attrs:{disabled:!t.checkColorCode(r.color),effect:"light",content:"数据格式异常",placement:"right"}},[e("el-input",{staticClass:"mt-px-4",class:{"error-tip":!!t.checkColorCode(r.color)},attrs:{placeholder:"字体颜色"},model:{value:r.color,callback:function(e){t.$set(r,"color",e)},expression:"item.color"}},[e("el-color-picker",{staticClass:"relative top-px-5 left-px-0",attrs:{slot:"prefix","popper-class":"setting-color-picker-popper",size:"mini"},slot:"prefix",model:{value:r.color,callback:function(e){t.$set(r,"color",e)},expression:"item.color"}})],1)],1)],1)})),0)]),e("div",{staticClass:"theme-item wallpaper"},[e("div",{staticClass:"px-px-2 text-bold"},[t._v(" 壁纸背景列表 "),e("i",{staticClass:"el-icon-circle-plus text-green-500 pointer",on:{click:function(e){return t.addTheme("wallpaper")}}})]),e("ul",{staticClass:"flex overflow-x-auto px-px-2 py-px-6"},t._l(t.theme.wallpaper,(function(i,s){return e("li",{key:s,staticClass:"wallpaper__item relative flex-shrink-0 w-px-184 ml-px-15 first:ml-px-0 shadow p-px-8 rounded"},[e("div",{staticClass:"icon__group"},[e("i",{staticClass:"icon__top el-icon-top text-blue-500",attrs:{title:"设为默认"},on:{click:function(e){return t.setDefaultTheme("wallpaper",i,s)}}}),e("i",{staticClass:"icon__remove el-icon-remove text-red-500",attrs:{title:"移除壁纸"},on:{click:function(e){return t.removeTheme("wallpaper",i,s)}}}),t.isDefaultTheme("wallpaper",i,s)?e("i",{staticClass:"icon__default el-icon-success text-green-500",attrs:{title:"默认主题"}}):t._e()]),e("div",{staticClass:"w-full h-px-80 mb-px-4 text-center p-px-4 bg-gray-100 border border-dashed border-gray-400 rounded"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{unload:r("4101")},expression:"{ unload: require('@/assets/img/error/image-error.png') }"}],staticClass:"max-w-full max-h-full rounded",attrs:{src:i.background}})]),e("el-tooltip",{staticClass:"item",attrs:{disabled:!t.checkImgUrl(i.background),effect:"light",content:"数据格式异常",placement:"right"}},[e("el-input",{class:{"error-tip":!!t.checkImgUrl(i.background)},attrs:{placeholder:"图片链接"},model:{value:i.background,callback:function(e){t.$set(i,"background",e)},expression:"item.background"}},[e("div",{staticClass:"w-px-28 h-px-28 p-px-4 relative top-px-5 left-px-0 border border-solid border-gray-300 rounded flex justify-center items-center pointer",attrs:{slot:"prefix"},slot:"prefix"},[e("i",{staticClass:"el-icon-upload text-lg text-gray-600 hover:text-blue-600",on:{click:function(e){return t.handleUpload(i,"background")}}})])])],1),e("el-tooltip",{staticClass:"item",attrs:{disabled:!t.checkColorCode(i.headerFontColor),effect:"light",content:"数据格式异常",placement:"right"}},[e("el-input",{staticClass:"mt-px-4",class:{"error-tip":!!t.checkColorCode(i.headerFontColor)},attrs:{placeholder:"字体颜色"},model:{value:i.headerFontColor,callback:function(e){t.$set(i,"headerFontColor",e)},expression:"item.headerFontColor"}},[e("el-color-picker",{staticClass:"relative top-px-5 left-px-0",attrs:{slot:"prefix","popper-class":"setting-color-picker-popper",size:"mini"},slot:"prefix",model:{value:i.headerFontColor,callback:function(e){t.$set(i,"headerFontColor",e)},expression:"item.headerFontColor"}})],1)],1)],1)})),0)])],1)],2),e("el-collapse-item",{attrs:{name:"mail"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-message mr-px-4"}),t._v("邮箱配置")]),e("el-form",{ref:"mailForm",staticClass:"mail-form",attrs:{model:t.mail}},[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"host"}},[e("el-input",{attrs:{placeholder:"<主机>"},model:{value:t.mail.host,callback:function(e){t.$set(t.mail,"host",e)},expression:"mail.host"}},[e("template",{slot:"prepend"},[t._v("host")])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"port"}},[e("el-input",{attrs:{placeholder:"<端口>"},on:{input:e=>t.mail.port=Number(e.replace(/[^0-9.]/g,""))||465},model:{value:t.mail.port,callback:function(e){t.$set(t.mail,"port",e)},expression:"mail.port"}},[e("template",{slot:"prepend"},[t._v("port")])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"user"}},[e("el-input",{attrs:{placeholder:"<用户>"},model:{value:t.mail.user,callback:function(e){t.$set(t.mail,"user",e)},expression:"mail.user"}},[e("template",{slot:"prepend"},[t._v("user")])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"mtp"}},[e("el-input",{attrs:{placeholder:"<通行码>"},model:{value:t.mail.mtp,callback:function(e){t.$set(t.mail,"mtp",e)},expression:"mail.mtp"}},[e("template",{slot:"prepend"},[t._v("mtp")])],2)],1)],1)],1)],1)],2),e("el-collapse-item",{attrs:{name:"code"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-table-lamp mr-px-4"}),t._v("配置代码总览（"),e("font",{staticClass:"text-red-500"},[t._v("需要点击「SAVE」保存手动修改的配置代码")]),t._v("）")],1),e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"result"},[e("VueJsonEditor",{staticClass:"json-edit",attrs:{"show-btns":!0,expandedOnStart:!0,mode:"view",modes:["code","view"]},on:{"json-save":t.handleJSONSave},model:{value:t.setting,callback:function(e){t.setting=e},expression:"setting"}})],1)])],1)],2)],1),e("div",{staticClass:"operation mt-px-10 flex justify-end"},[e("el-button",{attrs:{type:"primary"},on:{click:t.saveConfig}},[t._v("保存配置")]),e("el-button",{attrs:{type:"danger"},on:{click:t.reset}},[t._v("重置配置")])],1),e("input",{staticStyle:{display:"none"},attrs:{id:"js-img-picker",accept:"image/gif,image/jpeg,image/jpg,image/png,image/svg+xml",type:"file"},on:{change:function(e){return t.upload(e)}}})],1):t._e()}),[],!1,null,"eb6c0a02",null));e.default=u.exports},"2ba4":function(t,e,r){"use strict";var i=r("40d5"),s=Function.prototype,l=s.apply,a=s.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?a.bind(l):function(){return a.apply(l,arguments)})},"3bbe":function(t,e,r){"use strict";var i=r("1787"),s=String,l=TypeError;t.exports=function(t){if(i(t))return t;throw new l("Can't set "+s(t)+" as a prototype")}},"4b29":function(t,e,r){"use strict";r("1913")},"6e9e":function(t,e,r){},"6f19":function(t,e,r){"use strict";var i=r("9112"),s=r("0d26"),l=r("b980"),a=Error.captureStackTrace;t.exports=function(t,e,r,o){l&&(a?a(t,e):i(t,"stack",s(r,o)))}},7156:function(t,e,r){"use strict";var i=r("1626"),s=r("861d"),l=r("d2bb");t.exports=function(t,e,r){var a,o;return l&&i(a=e.constructor)&&a!==r&&s(o=a.prototype)&&o!==r.prototype&&l(t,o),t}},7282:function(t,e,r){"use strict";var i=r("e330"),s=r("59ed");t.exports=function(t,e,r){try{return i(s(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}}},ab36:function(t,e,r){"use strict";var i=r("861d"),s=r("9112");t.exports=function(t,e){i(e)&&"cause"in e&&s(t,"cause",e.cause)}},aeb0:function(t,e,r){"use strict";var i=r("9bf2").f;t.exports=function(t,e,r){r in t||i(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}},b980:function(t,e,r){"use strict";var i=r("d039"),s=r("5c6c");t.exports=!i((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",s(1,7)),7!==t.stack)}))},cdfb:function(t,e,r){"use strict";r("fb61")},d2bb:function(t,e,r){"use strict";var i=r("7282"),s=r("861d"),l=r("1d80"),a=r("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=i(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,i){return l(r),a(i),s(r)?(e?t(r,i):r.__proto__=i,r):r}}():void 0)},d343:function(t,e,r){"use strict";r("6e9e")},d9e25:function(t,e,r){"use strict";var i=r("23e7"),s=r("cfe9"),l=r("2ba4"),a=r("e5cb"),o=s.WebAssembly,n=7!==new Error("e",{cause:7}).cause,c=function(t,e){var r={};r[t]=a(t,e,n),i({global:!0,constructor:!0,arity:1,forced:n},r)},p=function(t,e){if(o&&o[t]){var r={};r[t]=a("WebAssembly."+t,e,n),i({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:n},r)}};c("Error",(function(t){return function(e){return l(t,this,arguments)}})),c("EvalError",(function(t){return function(e){return l(t,this,arguments)}})),c("RangeError",(function(t){return function(e){return l(t,this,arguments)}})),c("ReferenceError",(function(t){return function(e){return l(t,this,arguments)}})),c("SyntaxError",(function(t){return function(e){return l(t,this,arguments)}})),c("TypeError",(function(t){return function(e){return l(t,this,arguments)}})),c("URIError",(function(t){return function(e){return l(t,this,arguments)}})),p("CompileError",(function(t){return function(e){return l(t,this,arguments)}})),p("LinkError",(function(t){return function(e){return l(t,this,arguments)}})),p("RuntimeError",(function(t){return function(e){return l(t,this,arguments)}}))},e391:function(t,e,r){"use strict";var i=r("577e");t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:i(t)}},e5cb:function(t,e,r){"use strict";var i=r("d066"),s=r("1a2d"),l=r("9112"),a=r("3a9b"),o=r("d2bb"),n=r("e893"),c=r("aeb0"),p=r("7156"),u=r("e391"),m=r("ab36"),d=r("6f19"),f=r("83ab"),h=r("c430");t.exports=function(t,e,r,g){var v=g?2:1,b=t.split("."),x=b[b.length-1],_=i.apply(null,b);if(_){var y=_.prototype;if(!h&&s(y,"cause")&&delete y.cause,!r)return _;var C=i("Error"),k=e((function(t,e){var r=u(g?e:t,void 0),i=g?new _(t):new _;return void 0!==r&&l(i,"message",r),d(i,k,i.stack,2),this&&a(y,this)&&p(i,this,k),arguments.length>v&&m(i,arguments[v]),i}));if(k.prototype=y,"Error"!==x?o?o(k,C):n(k,C,{name:!0}):f&&"stackTraceLimit"in _&&(c(k,_,"stackTraceLimit"),c(k,_,"prepareStackTrace")),n(k,_),!h)try{y.name!==x&&l(y,"name",x),y.constructor=k}catch(t){}return k}}},fb61:function(t,e,r){}}]);
//# sourceMappingURL=chunk-6e7c514b.82cd6570.js.map